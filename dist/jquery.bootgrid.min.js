!function(p,h,t){"use strict";var f=".rs.jquery.bootgrid";function r(e){var i=this;return!this.rows.contains(function(t){return i.identifier&&t[i.identifier]===e[i.identifier]})&&(this.rows.push(e),!0)}function g(t){var e=this.footer?this.footer.find(t):p(),i=this.header?this.header.find(t):p();return p.merge(e,i)}function v(t){return t?p.extend({},this.cachedParams,{ctx:t}):this.cachedParams}function m(t){return"."+p.trim(t).replace(/\s+/gm,".")}function l(){this.element.trigger("initialize"+f),function(){var n=this,t=this.element.find("thead > tr").first(),r=!1;t.children().each(function(){var t=p(this),e=t.data(),i=localStorage.getItem("visibleColumns["+n.uid+"]["+e.columnId+"]"),s=localStorage.getItem("sortColumns["+n.uid+"]["+e.columnId+"]"),o={id:e.columnId,identifier:null==n.identifier&&e.identifier||!1,converter:n.options.converters[e.converter||e.type]||n.options.converters.string,text:t.html(),align:e.align||"left",headerAlign:e.headerAlign||"left",cssClass:e.cssClass||"",headerCssClass:e.headerCssClass||"",formatter:n.options.formatters[e.formatter]||null,order:r?null:null===s?"asc"===e.order||"desc"===e.order?e.order:null:"asc"===s||"desc"===s?s:null,searchable:!(!1===e.searchable),sortable:!(!1===e.sortable),visible:null===i?!(!1===e.visible):"true"===i,visibleInSelection:!(!1===e.visibleInSelection),width:p.isNumeric(e.width)?e.width+"px":"string"==typeof e.width?e.width:null};n.columns.push(o),null!=o.order&&(n.sortDictionary[o.id]=o.order),o.identifier&&(n.identifier=o.id,n.converter=o.converter),n.options.multiSort||null===o.order||(r=!0)})}.call(this),this.selection=this.options.selection&&null!=this.identifier,this.rowCount=localStorage.getItem("rowCount["+this.uid+"]")||this.rowCount,function(){if(!this.options.ajax){var e=this,t=this.element.find("tbody > tr");t.each(function(){var t=p(this),i=t.children("td"),s={};p.each(e.columns,function(t,e){s[e.id]=e.converter.from(i.eq(t).text())}),r.call(e,s)}),a.call(this,this.rows.length),D.call(this)}}.call(this),function(){var t=this.options.templates,e=this.element.parent().hasClass(this.options.css.responsiveTable)?this.element.parent():this.element;this.element.addClass(this.options.css.table),0===this.element.children("tbody").length&&this.element.append(t.body);1&this.options.navigation&&(this.header=p(t.header.resolve(v.call(this,{id:this.element._bgId()+"-header"}))),e.before(this.header));2&this.options.navigation&&(this.footer=p(t.footer.resolve(v.call(this,{id:this.element._bgId()+"-footer"}))),e.after(this.footer))}.call(this),x.call(this),function(){if(0!==this.options.navigation){var t=this.options.css,e=m(t.search),i=g.call(this,e);if(0<i.length){var s=this,o=this.options.templates,n=null,r="",l=m(t.searchField),a=p(o.search.resolve(v.call(this))),c=a.is(l)?a:a.find(l);c.on("keyup"+f,function(t){t.stopPropagation();var e=p(this).val();(r!==e||13===t.which&&""!==e)&&(r=e,(13===t.which||0===e.length||e.length>=s.options.searchSettings.characters)&&(h.clearTimeout(n),n=h.setTimeout(function(){y.call(s,e)},s.options.searchSettings.delay)))}),C.call(this,i,a)}}}.call(this),function(){if(0!==this.options.navigation){var t=this.options.css,e=m(t.actions),i=g.call(this,e);if(0<i.length){var s=this,o=this.options.templates,n=p(o.actions.resolve(v.call(this)));if(this.options.ajax){var r=o.icon.resolve(v.call(this,{iconCss:t.iconRefresh})),l=p(o.actionButton.resolve(v.call(this,{content:r,text:this.options.labels.refresh}))).on("click"+f,function(t){t.stopPropagation(),s.current=1,d.call(s)});n.append(l)}(function(t){var s=this,e=this.options.rowCount;function o(t){return-1===t?s.options.labels.all:t}if(p.isArray(e)){var i=this.options.css,n=this.options.templates,r=p(n.actionDropDown.resolve(v.call(this,{content:o(this.rowCount)}))),l=m(i.dropDownMenu),a=m(i.dropDownMenuText),c=m(i.dropDownMenuItems),h=m(i.dropDownItemButton);p.each(e,function(t,e){var i=p(n.actionDropDownItem.resolve(v.call(s,{text:o(e),action:e})))._bgSelectAria(e.toString()===s.rowCount.toString()).on("click"+f,h,function(t){t.preventDefault();var e=p(this),i=e.data("action");localStorage.setItem("rowCount["+s.uid+"]",i),i!==s.rowCount&&(s.current=1,s.rowCount=i,e.parents(c).children().each(function(){var t=p(this),e=t.find(h).data("action");t._bgSelectAria(e===i)}),e.parents(l).find(a).text(o(i)),d.call(s))});r.find(c).append(i)}),t.append(r)}}).call(this,n),function(t){if(this.options.columnSelection&&1<this.columns.length){var n=this,i=this.options.css,s=this.options.templates,e=s.icon.resolve(v.call(this,{iconCss:i.iconColumns})),r=p(s.actionDropDown.resolve(v.call(this,{content:e}))),l=m(i.dropDownItem),a=m(i.dropDownItemCheckbox),c=m(i.dropDownMenuItems);p.each(this.columns,function(t,o){if(o.visibleInSelection){var e=p(s.actionDropDownCheckboxItem.resolve(v.call(n,{name:o.id,label:o.text,checked:o.visible}))).on("click"+f,l,function(t){t.stopPropagation();var e=p(this),i=e.find(a);if(localStorage.setItem("visibleColumns["+n.uid+"]["+o.id+"]",i.prop("checked")),!i.prop("disabled")){o.visible="true"===localStorage.getItem("visibleColumns["+n.uid+"]["+o.id+"]");var s=1<n.columns.where(u).length;e.parents(c).find(l+":has("+a+":checked)")._bgEnableAria(s).find(a)._bgEnableField(s),n.element.find("tbody").empty(),x.call(n),d.call(n)}});r.find(m(i.dropDownMenuItems)).append(e)}}),t.append(r)}}.call(this,n),C.call(this,i,n)}}}.call(this),d.call(this),this.element.trigger("initialized"+f)}function u(t){return t.visible}function d(){var o=this;function e(t,e){o.currentRows=t,a.call(o,e),o.options.keepSelection||(o.selectedRows=[]),function(t){if(0<t.length){var a=this,c=this.options.css,h=this.options.templates,e=this.element.children("tbody").first(),u=!0,d="";p.each(t,function(t,o){var n="",e=' data-row-id="'+(null==a.identifier?t:o[a.identifier])+'"',i="";if(a.selection){var s=-1!==p.inArray(o[a.identifier],a.selectedRows),r=h.select.resolve(v.call(a,{type:"checkbox",value:o[a.identifier],checked:s}));n+=h.cell.resolve(v.call(a,{content:r,css:c.selectCell})),u=u&&s,s&&(i+=c.selected,e+=' aria-selected="true"')}var l=null!=o.status&&a.options.statusMapping[o.status];l&&(i+=l),p.each(a.columns,function(t,e){if(e.visible){var i=p.isFunction(e.formatter)?e.formatter.call(a,e,o):e.converter.to(o[e.id]),s=0<e.cssClass.length?" "+e.cssClass:"";n+=h.cell.resolve(v.call(a,{content:null==i||""===i?"&nbsp;":i,css:("right"===e.align?c.right:"center"===e.align?c.center:c.left)+s,style:null==e.width?"":"width:"+e.width+";"}))}}),0<i.length&&(e+=' class="'+i+'"'),d+=h.row.resolve(v.call(a,{attr:e,cells:n}))}),a.element.find("thead "+m(a.options.css.selectBox)).prop("checked",u),e.html(d),function(t){var o=this,e=m(this.options.css.selectBox);this.selection&&!this.options.rowSelect&&t.off("click"+f,e).on("click"+f,e,function(t){t.stopPropagation();var e=p(this),i=o.converter.from(e.val());e.prop("checked")?o.select([i]):o.deselect([i])});t.off("click"+f,"> tr").on("click"+f,"> tr",function(t){t.stopPropagation();var e=p(this),i=null==o.identifier?e.data("row-id"):o.converter.from(e.data("row-id")+""),s=null==o.identifier?o.currentRows[i]:o.currentRows.first(function(t){return t[o.identifier]===i});o.selection&&o.options.rowSelect&&(e.hasClass(o.options.css.selected)?o.deselect([i]):o.select([i])),o.element.trigger("click"+f,[o.columns,s])})}.call(this,e)}else b.call(this)}.call(o,t),function(){if(0!==this.options.navigation){var t=m(this.options.css.infos),e=g.call(this,t);if(0<e.length){var i=this.current*this.rowCount,s=p(this.options.templates.infos.resolve(v.call(this,{end:0===this.total||-1===i||i>this.total?this.total:i,start:0===this.total?0:i-this.rowCount+1,total:this.total})));C.call(this,e,s)}}}.call(o),function(){if(0!==this.options.navigation){var t=m(this.options.css.pagination),e=g.call(this,t)._bgShowAria(-1!==this.rowCount);if(-1!==this.rowCount&&0<e.length){var i=this.options.templates,s=this.current,o=this.totalPages,n=p(i.pagination.resolve(v.call(this))),r=o-s,l=-1*(this.options.padding-s),a=r>=this.options.padding?Math.max(l,1):Math.max(l-this.options.padding+r,1),c=2*this.options.padding+1,h=c<=o?c:o;w.call(this,n,"first","&laquo;","first")._bgEnableAria(1<s),w.call(this,n,"prev","&lsaquo;","prev")._bgEnableAria(1<s);for(var u=0;u<h;u++){var d=u+a;w.call(this,n,d,d,"page-"+d)._bgEnableAria()._bgSelectAria(d===s)}0===h&&w.call(this,n,1,1,"page-1")._bgEnableAria(!1)._bgSelectAria(),w.call(this,n,"next","&rsaquo;","next")._bgEnableAria(s<o),w.call(this,n,"last","&raquo;","last")._bgEnableAria(s<o),C.call(this,e,n)}}}.call(o),o.element._bgBusyAria(!1).trigger("loaded"+f)}if(this.element._bgBusyAria(!0).trigger("load"+f),function(){var r=this;h.setTimeout(function(){if("true"===r.element._bgAria("busy")){var t=r.options.templates,e=r.element.children("thead").first(),i=r.element.children("tbody").first(),s=i.find("tr > td").first(),o=r.element.height()-e.height()-(s.height()+20),n=r.columns.where(u).length;r.selection&&(n+=1),i.html(t.loading.resolve(v.call(r,{columns:n}))),-1!==r.rowCount&&0<o&&i.find("tr > td").css("padding","20px 0 "+o+"px")}},250)}.call(this),this.options.ajax){var t=function(){var t={current:this.current,rowCount:this.rowCount,sort:this.sortDictionary,searchPhrase:this.searchPhrase},e=this.options.post;return e=p.isFunction(e)?e():e,this.options.requestHandler(p.extend(!0,t,e))}.call(this),i=function(){var t=this.options.url;return p.isFunction(t)?t():t}.call(this);if(null==i||"string"!=typeof i||0===i.length)throw new Error("Url setting must be a none empty string or a function that returns one.");this.xqr&&this.xqr.abort();var s={url:i,data:t,success:function(t){o.xqr=null,"string"==typeof t&&(t=p.parseJSON(t)),t=o.options.responseHandler(t),o.current=t.current,e(t.rows,t.total)},error:function(t,e,i){o.xqr=null,"abort"!==e&&(b.call(o),o.element._bgBusyAria(!1).trigger("loaded"+f))}};s=p.extend(this.options.ajaxSettings,s),this.xqr=p.ajax(s)}else{var n=0<this.searchPhrase.length?this.rows.where(function(t){for(var e,i=new RegExp(o.searchPhrase,o.options.caseSensitive?"g":"gi"),s=0;s<o.columns.length;s++)if((e=o.columns[s]).searchable&&e.visible&&-1<e.converter.to(t[e.id]).search(i))return!0;return!1}):this.rows,r=n.length;-1!==this.rowCount&&(n=n.page(this.current,this.rowCount)),h.setTimeout(function(){e(n,r)},10)}}function a(t){this.total=t,this.totalPages=-1===this.rowCount?1:Math.ceil(this.total/this.rowCount)}function b(){var t=this.element.children("tbody").first(),e=this.options.templates,i=this.columns.where(u).length;this.selection&&(i+=1),t.html(e.noResults.resolve(v.call(this,{columns:i})))}function w(t,e,i,s){var n=this,o=this.options.templates,r=this.options.css,l=v.call(this,{css:s,text:i,page:e}),a=p(o.paginationItem.resolve(l)).on("click"+f,m(r.paginationButton),function(t){t.stopPropagation(),t.preventDefault();var e=p(this),i=e.parent();if(!i.hasClass("active")&&!i.hasClass("disabled")){var s={first:1,prev:n.current-1,next:n.current+1,last:n.totalPages},o=e.data("page");n.current=s[o]||o,d.call(n)}e.trigger("blur")});return t.append(a),a}function y(t){this.searchPhrase!==t&&(this.current=1,this.searchPhrase=t,d.call(this))}function x(){var l=this,t=this.element.find("thead > tr"),a=this.options.css,c=this.options.templates,h="",u=this.options.sorting;if(this.selection){var e=this.options.multiSelect?c.select.resolve(v.call(l,{type:"checkbox",value:"all"})):"";h+=c.rawHeaderCell.resolve(v.call(l,{content:e,css:a.selectCell}))}if(p.each(this.columns,function(t,e){if(e.visible){var i=l.sortDictionary[e.id],s=u&&i&&"asc"===i?a.iconUp:u&&i&&"desc"===i?a.iconDown:"",o=c.icon.resolve(v.call(l,{iconCss:s})),n=e.headerAlign,r=0<e.headerCssClass.length?" "+e.headerCssClass:"";h+=c.headerCell.resolve(v.call(l,{column:e,icon:o,sortable:u&&e.sortable&&a.sortable||"",css:("right"===n?a.right:"center"===n?a.center:a.left)+r,style:null==e.width?"":"width:"+e.width+";"}))}}),t.html(h),u){var i=m(a.sortable);t.off("click"+f,i).on("click"+f,i,function(t){t.preventDefault(),function(t){var e=this.options.css,i=m(e.icon),s=t.data("column-id")||t.parents("th").first().data("column-id"),o=this.sortDictionary[s],n=t.find(i);if(!this.options.multiSort){t.parents("tr").first().find(i).removeClass(e.iconDown+" "+e.iconUp),this.sortDictionary={};for(var r=0;r<this.columns.length;r++)localStorage.removeItem("sortColumns["+this.uid+"]["+this.columns[r].id+"]")}if(o&&"asc"===o)this.sortDictionary[s]="desc",localStorage.setItem("sortColumns["+this.uid+"]["+s+"]","desc"),n.removeClass(e.iconUp).addClass(e.iconDown);else if(o&&"desc"===o)if(this.options.multiSort){var l={};for(var a in this.sortDictionary)a!==s&&(l[a]=this.sortDictionary[a]);this.sortDictionary=l,localStorage.removeItem("sortColumns["+this.uid+"]["+s+"]"),n.removeClass(e.iconDown)}else this.sortDictionary[s]="asc",localStorage.setItem("sortColumns["+this.uid+"]["+s+"]","asc"),n.removeClass(e.iconDown).addClass(e.iconUp);else this.sortDictionary[s]="asc",localStorage.setItem("sortColumns["+this.uid+"]["+s+"]","asc"),n.addClass(e.iconUp)}.call(l,p(this)),D.call(l),d.call(l)})}if(this.selection&&this.options.multiSelect){var s=m(a.selectBox);t.off("click"+f,s).on("click"+f,s,function(t){t.stopPropagation(),p(this).prop("checked")?l.select():l.deselect()})}}function C(t,i){t.each(function(t,e){p(e).before(i.clone(!0)).remove()})}function D(){var l=[];if(!this.options.ajax){for(var t in this.sortDictionary)(this.options.multiSort||0===l.length)&&l.push({id:t,order:this.sortDictionary[t]});0<l.length&&this.rows.sort(function t(e,i,s){var o=(s=s||0)+1,n=l[s];function r(t){return"asc"===n.order?t:-1*t}return e[n.id]>i[n.id]?r(1):e[n.id]<i[n.id]?r(-1):l.length>o?t(e,i,o):0})}}var c=function(t,e){this.element=p(t),this.origin=this.element.clone(),this.options=p.extend(!0,{},c.defaults,this.element.data(),e);var i=this.options.rowCount=this.element.data().rowCount||e.rowCount||this.options.rowCount;this.columns=[],this.current=1,this.currentRows=[],this.identifier=null,this.selection=!1,this.converter=null,this.rowCount=p.isArray(i)?i[0]:i,this.rows=[],this.searchPhrase="",this.selectedRows=[],this.sortDictionary={},this.total=0,this.totalPages=0,this.cachedParams={lbl:this.options.labels,css:this.options.css,ctx:{}},this.header=null,this.footer=null,this.xqr=null,this.uid=h.location.pathname+"#"+this.element.attr("id")};if(c.defaults={navigation:3,padding:2,columnSelection:!0,rowCount:[10,25,50,-1],selection:!1,multiSelect:!1,rowSelect:!1,keepSelection:!1,highlightRows:!1,sorting:!0,multiSort:!1,searchSettings:{delay:250,characters:1},ajax:!1,ajaxSettings:{method:"POST"},post:{},url:"",caseSensitive:!0,requestHandler:function(t){return t},responseHandler:function(t){return t},converters:{numeric:{from:function(t){return+t},to:function(t){return void 0===t?"":t+""}},string:{from:function(t){return t},to:function(t){return t}},datetime:{from:function(t){return t?moment(1e3*parseInt(t)):""},to:function(t){return t?t.format("lll"):""}},memsize:{from:function(t){for(var e=["","K","M","G","T","P","E","Z","Y"],i=parseInt(t),s=t.slice(-1).toUpperCase(),o=e.length-1;0<=o;o--)if(s===e[o]){i*=Math.pow(1024,o);break}return i},to:function(t){for(var e=["","K","M","G","T","P","E","Z","Y"],i=e.length-1;0<=i;i--)if(t>=5*Math.pow(1024,i))return parseInt(t/Math.pow(1024,i))+e[i];return parseInt(t)+""}},notprefixable:{to:function(t){return t.not?'<i class="fa fa-exclamation"></i> '+t.val:t.val}}},css:{actions:"actions btn-group",center:"text-center",columnHeaderAnchor:"column-header-anchor",columnHeaderText:"text",dropDownItem:"dropdown-item",dropDownItemButton:"dropdown-item-button",dropDownItemCheckbox:"dropdown-item-checkbox",dropDownMenu:"dropdown btn-group",dropDownMenuItems:"dropdown-menu pull-right",dropDownMenuText:"dropdown-text",footer:"bootgrid-footer container-fluid",header:"bootgrid-header container-fluid",icon:"icon glyphicon",iconColumns:"glyphicon-th-list",iconDown:"glyphicon-chevron-down",iconRefresh:"glyphicon-refresh",iconSearch:"glyphicon-search",iconUp:"glyphicon-chevron-up",infos:"infos",left:"text-left",pagination:"pagination",paginationButton:"button",responsiveTable:"table-responsive",right:"text-right",search:"search form-group",searchField:"search-field form-control",selectBox:"select-box",selectCell:"select-cell",selected:"active",sortable:"sortable",table:"bootgrid-table table"},formatters:{},labels:{all:"All",infos:"Showing {{ctx.start}} to {{ctx.end}} of {{ctx.total}} entries",loading:"Loading...",noResults:"No results found!",refresh:"Refresh",search:"Search"},statusMapping:{0:"success",1:"info",2:"warning",3:"danger"},templates:{actionButton:'<button class="btn btn-default" type="button" title="{{ctx.text}}">{{ctx.content}}</button>',actionDropDown:'<div class="{{css.dropDownMenu}}"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"><span class="{{css.dropDownMenuText}}">{{ctx.content}}</span> <span class="caret"></span></button><ul class="{{css.dropDownMenuItems}}" role="menu"></ul></div>',actionDropDownItem:'<li><a data-action="{{ctx.action}}" class="{{css.dropDownItem}} {{css.dropDownItemButton}}">{{ctx.text}}</a></li>',actionDropDownCheckboxItem:'<li><label class="{{css.dropDownItem}}"><input name="{{ctx.name}}" type="checkbox" value="1" class="{{css.dropDownItemCheckbox}}" {{ctx.checked}} /> {{ctx.label}}</label></li>',actions:'<div class="{{css.actions}}"></div>',body:"<tbody></tbody>",cell:'<td class="{{ctx.css}}" style="{{ctx.style}}">{{ctx.content}}</td>',footer:'<div id="{{ctx.id}}" class="{{css.footer}}"><div class="row"><div class="col-sm-6"><p class="{{css.pagination}}"></p></div><div class="col-sm-6 infoBar"><p class="{{css.infos}}"></p></div></div></div>',header:'<div id="{{ctx.id}}" class="{{css.header}}"><div class="row"><div class="col-sm-12 actionBar"><p class="{{css.search}}"></p><p class="{{css.actions}}"></p></div></div></div>',headerCell:'<th data-column-id="{{ctx.column.id}}" class="{{ctx.css}}" style="{{ctx.style}}"><a href="javascript:void(0);" class="{{css.columnHeaderAnchor}} {{ctx.sortable}}"><span class="{{css.columnHeaderText}}">{{ctx.column.text}}</span>{{ctx.icon}}</a></th>',icon:'<span class="{{css.icon}} {{ctx.iconCss}}"></span>',infos:'<div class="{{css.infos}}">{{lbl.infos}}</div>',loading:'<tr><td colspan="{{ctx.columns}}" class="loading">{{lbl.loading}}</td></tr>',noResults:'<tr><td colspan="{{ctx.columns}}" class="no-results">{{lbl.noResults}}</td></tr>',pagination:'<ul class="{{css.pagination}}"></ul>',paginationItem:'<li class="{{ctx.css}}"><a data-page="{{ctx.page}}" class="{{css.paginationButton}}">{{ctx.text}}</a></li>',rawHeaderCell:'<th class="{{ctx.css}}">{{ctx.content}}</th>',row:"<tr{{ctx.attr}}>{{ctx.cells}}</tr>",search:'<div class="{{css.search}}"><div class="input-group"><span class="{{css.icon}} input-group-addon {{css.iconSearch}}"></span> <input type="text" class="{{css.searchField}}" placeholder="{{lbl.search}}" /></div></div>',select:'<input name="select" type="{{ctx.type}}" class="{{css.selectBox}}" value="{{ctx.value}}" {{ctx.checked}} />'}},c.prototype.append=function(t){if(this.options.ajax);else{for(var e=[],i=0;i<t.length;i++){for(var s=t[i],o=0;o<this.columns.length;o++){var n=this.columns[o];s[n.id]=n.converter.from(s[n.id])}r.call(this,s)&&e.push(s)}D.call(this),function(t){this.options.highlightRows}.call(this,e),d.call(this),this.element.trigger("appended"+f,[e])}return this},c.prototype.clear=function(){if(this.options.ajax);else{var t=p.extend([],this.rows);this.rows=[],this.current=1,this.total=0,d.call(this),this.element.trigger("cleared"+f,[t])}return this},c.prototype.destroy=function(){return p(h).off(f),1&this.options.navigation&&this.header.remove(),2&this.options.navigation&&this.footer.remove(),this.element.before(this.origin).remove(),this},c.prototype.reload=function(){return this.current=1,d.call(this),this},c.prototype.remove=function(t){if(null!=this.identifier){if(this.options.ajax);else{t=t||this.selectedRows;for(var e,i=[],s=0;s<t.length;s++){e=t[s];for(var o=0;o<this.rows.length;o++)if(this.rows[o][this.identifier]===e){i.push(this.rows[o]),this.rows.splice(o,1);break}}this.current=1,d.call(this),this.element.trigger("removed"+f,[i])}}return this},c.prototype.search=function(t){if(t=t||"",this.searchPhrase!==t){var e=m(this.options.css.searchField);g.call(this,e).val(t)}return y.call(this,t),this},c.prototype.select=function(t){if(this.selection){t=t||this.currentRows.propValues(this.identifier);for(var e,i,s=[];0<t.length&&(this.options.multiSelect||1!==s.length);)if(e=t.pop(),-1===p.inArray(e,this.selectedRows))for(i=0;i<this.currentRows.length;i++)if(this.currentRows[i][this.identifier]===e){s.push(this.currentRows[i]),this.selectedRows.push(e);break}if(0<s.length){var o=m(this.options.css.selectBox),n=this.selectedRows.length>=this.currentRows.length;for(i=0;!this.options.keepSelection&&n&&i<this.currentRows.length;)n=-1!==p.inArray(this.currentRows[i++][this.identifier],this.selectedRows);for(this.element.find("thead "+o).prop("checked",n),this.options.multiSelect||this.element.find("tbody > tr "+o+":checked").trigger("click"+f),i=0;i<this.selectedRows.length;i++)this.element.find('tbody > tr[data-row-id="'+this.selectedRows[i]+'"]').addClass(this.options.css.selected)._bgAria("selected","true").find(o).prop("checked",!0);this.element.trigger("selected"+f,[s])}}return this},c.prototype.deselect=function(t){if(this.selection){t=t||this.currentRows.propValues(this.identifier);for(var e,i,s,o=[];0<t.length;)if(e=t.pop(),-1!==(s=p.inArray(e,this.selectedRows)))for(i=0;i<this.currentRows.length;i++)if(this.currentRows[i][this.identifier]===e){o.push(this.currentRows[i]),this.selectedRows.splice(s,1);break}if(0<o.length){var n=m(this.options.css.selectBox);for(this.element.find("thead "+n).prop("checked",!1),i=0;i<o.length;i++)this.element.find('tbody > tr[data-row-id="'+o[i][this.identifier]+'"]').removeClass(this.options.css.selected)._bgAria("selected","false").find(n).prop("checked",!1);this.element.trigger("deselected"+f,[o])}}return this},c.prototype.sort=function(t){var e=t?p.extend({},t):{};return e===this.sortDictionary||(this.sortDictionary=e,x.call(this),D.call(this),d.call(this)),this},c.prototype.getColumnSettings=function(){return p.merge([],this.columns)},c.prototype.getCurrentPage=function(){return this.current},c.prototype.getCurrentRows=function(){return p.merge([],this.currentRows)},c.prototype.getRowCount=function(){return this.rowCount},c.prototype.getSearchPhrase=function(){return this.searchPhrase},c.prototype.getSelectedRows=function(){return p.merge([],this.selectedRows)},c.prototype.getSortDictionary=function(){return p.extend({},this.sortDictionary)},c.prototype.getTotalPageCount=function(){return this.totalPages},c.prototype.getTotalRowCount=function(){return this.total},p.fn.extend({_bgAria:function(t,e){return e?this.attr("aria-"+t,e):this.attr("aria-"+t)},_bgBusyAria:function(t){return null==t||t?this._bgAria("busy","true"):this._bgAria("busy","false")},_bgRemoveAria:function(t){return this.removeAttr("aria-"+t)},_bgEnableAria:function(t){return null==t||t?this.removeClass("disabled")._bgAria("disabled","false"):this.addClass("disabled")._bgAria("disabled","true")},_bgEnableField:function(t){return null==t||t?this.removeAttr("disabled"):this.attr("disabled","disable")},_bgShowAria:function(t){return null==t||t?this.show()._bgAria("hidden","false"):this.hide()._bgAria("hidden","true")},_bgSelectAria:function(t){return null==t||t?this.addClass("active")._bgAria("selected","true"):this.removeClass("active")._bgAria("selected","false")},_bgId:function(t){return t?this.attr("id",t):this.attr("id")}}),!String.prototype.resolve){var S={checked:function(t){return"boolean"==typeof t?t?'checked="checked"':"":t}};String.prototype.resolve=function(t,o){var n=this;return p.each(t,function(t,e){if(null!=e&&"function"!=typeof e)if("object"==typeof e){var i=o?p.extend([],o):[];i.push(t),n=n.resolve(e,i)+""}else{S&&S[t]&&"function"==typeof S[t]&&(e=S[t](e)),t=o?o.join(".")+"."+t:t;var s=new RegExp("\\{\\{"+t+"\\}\\}","gm");n=n.replace(s,e.replace?e.replace(/\$/gi,"&#36;"):e)}}),n}}Array.prototype.first||(Array.prototype.first=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(t(i))return i}return null}),Array.prototype.contains||(Array.prototype.contains=function(t){for(var e=0;e<this.length;e++){if(t(this[e]))return!0}return!1}),Array.prototype.page||(Array.prototype.page=function(t,e){var i=(t-1)*e,s=i+e;return this.length>i?this.length>s?this.slice(i,s):this.slice(i):[]}),Array.prototype.where||(Array.prototype.where=function(t){for(var e=[],i=0;i<this.length;i++){var s=this[i];t(s)&&e.push(s)}return e}),Array.prototype.propValues||(Array.prototype.propValues=function(t){for(var e=[],i=0;i<this.length;i++)e.push(this[i][t]);return e});var e=p.fn.bootgrid;p.fn.bootgrid=function(o){var n=Array.prototype.slice.call(arguments,1),r=null,t=this.each(function(t){var e=p(this),i=e.data(f),s="object"==typeof o&&o;if((i||"destroy"!==o)&&(i||(e.data(f,i=new c(this,s)),l.call(i)),"string"==typeof o))if(0===o.indexOf("get")&&0===t)r=i[o].apply(i,n);else if(0!==o.indexOf("get"))return i[o].apply(i,n)});return"string"==typeof o&&0===o.indexOf("get")?r:t},p.fn.bootgrid.Constructor=c,p.fn.bootgrid.noConflict=function(){return p.fn.bootgrid=e,this},p('[data-toggle="bootgrid"]').bootgrid()}(jQuery,window);